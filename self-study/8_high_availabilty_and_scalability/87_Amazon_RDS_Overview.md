# Amazon RDS Overview

## 1. RDS 기본 개념

### 1.1 RDS란?
- **정의**: Amazon Relational Database Service - AWS의 관리형 관계형 데이터베이스 서비스
- **특징**:
  - 완전 관리형: 하드웨어 프로비저닝, 데이터베이스 설정, 패치, 백업 자동화
  - 확장성: 컴퓨팅 리소스와 스토리지 용량을 쉽게 조정 가능
  - 고가용성: 다중 AZ 배포로 장애 시 자동 장애 조치
  - 보안: VPC 내에서 실행, 암호화 지원
  - 비용 효율성: 사용한 만큼 지불

### 1.2 지원 데이터베이스 엔진
- **MySQL**
- **PostgreSQL**
- **MariaDB**
- **Oracle**
- **SQL Server**
- **Amazon Aurora** (MySQL 및 PostgreSQL 호환)

### 1.3 RDS vs EC2에서 데이터베이스 실행
| 측면 | RDS | EC2 데이터베이스 |
|------|-----|-----------------|
| 관리 | 완전 관리형 | 자체 관리 |
| 백업 | 자동화 | 수동 설정 |
| 확장 | 버튼 클릭 | 수동 |
| 비용 | DB 인스턴스 비용 | EC2 + 라이선스 |
| 제어 | 제한적 | 완전 제어 |

---

## 2. RDS 인스턴스 유형 및 스토리지

### 2.1 인스턴스 클래스
- **범용 (M 클래스)**: 균형 잡힌 CPU, 메모리, 네트워크
- **메모리 최적화 (R 클래스)**: 메모리 집약적 워크로드
- **컴퓨팅 최적화 (C 클래스)**: 고성능 CPU
- **버스트 가능 (T 클래스)**: 가변 워크로드

### 2.2 스토리지 옵션
- **범용 SSD (gp2/gp3)**: 대부분의 워크로드에 적합
- **프로비저닝된 IOPS SSD (io1/io2)**: 고성능 요구사항
- **마그네틱**: 레거시, 저비용

### 2.3 스토리지 자동 확장
- **활성화 시**: 스토리지 부족 시 자동 증가
- **최대 제한**: 64TB까지
- **증가 단위**: 10GB씩

---

## 3. 고가용성 및 확장성

### 3.1 다중 AZ 배포
- **개념**: 기본 리전의 AZ와 다른 AZ에 대기 인스턴스 생성
- **장점**:
  - 자동 장애 조치 (일반적으로 60-120초)
  - 데이터 내구성 향상
  - 읽기 트래픽 분산 불가 (대기 인스턴스는 읽기 전용 아님)

### 3.2 읽기 복제본 (Read Replicas)
- **목적**: 읽기 트래픽 분산 및 고가용성
- **특징**:
  - 최대 15개까지 생성 가능
  - 비동기 복제
  - 다른 리전에도 생성 가능
  - 프로모션으로 마스터로 전환 가능

### 3.3 Aurora 클러스터
- **특징**: 고성능, 고가용성
- **컴포넌트**:
  - Writer 인스턴스 (1개)
  - Reader 인스턴스 (최대 15개)
  - 클러스터 볼륨 (6개의 데이터 복사본)

---

## 4. 백업 및 복원

### 4.1 자동 백업
- **보존 기간**: 1-35일 설정 가능
- **포인트 인 타임 복원**: 마지막 백업부터 5분 전까지
- **스냅샷**: 수동 백업, 무기한 보존

### 4.2 백업 윈도우
- **기본**: 유지 관리 윈도우 중 수행
- **사용자 정의**: 특정 시간대 설정 가능

---

## 5. 보안

### 5.1 네트워크 보안
- **VPC**: RDS 인스턴스는 VPC 내에서 실행
- **보안 그룹**: 인바운드/아웃바운드 트래픽 제어
- **서브넷 그룹**: DB 서브넷 그룹으로 AZ 분산

### 5.2 데이터 암호화
- **저장 데이터**: KMS 키로 암호화
- **전송 중 데이터**: SSL/TLS 강제 가능
- **스냅샷**: 암호화된 스냅샷 생성 가능

### 5.3 IAM 인증
- **기능**: IAM 사용자/역할로 DB 인증
- **장점**: 비밀번호 불필요, 중앙 집중식 관리

---

## 6. 모니터링 및 유지 관리

### 6.1 CloudWatch 통합
- **메트릭**: CPU, 메모리, 디스크 사용량 등
- **알람**: 임계값 초과 시 알림
- **로그**: 오류 로그, 느린 쿼리 로그

### 6.2 유지 관리 윈도우
- **목적**: 패치, 업그레이드 적용
- **설정**: 주별로 30분-23시간 설정 가능
- **다중 AZ**: 한 인스턴스씩 순차 적용

---

## 7. 비용 최적화

### 7.1 예약 인스턴스
- **할인**: 온디맨드 대비 최대 75% 절약
- **약정**: 1년 또는 3년

### 7.2 Aurora Serverless
- **특징**: 사용량 기반 자동 확장
- **적합**: 간헐적 또는 예측 불가능한 워크로드

---

## 8. 마이그레이션 및 도구

### 8.1 AWS Database Migration Service (DMS)
- **용도**: 온프레미스 또는 다른 클라우드에서 RDS로 마이그레이션
- **지원**: 동종 및 이종 마이그레이션

### 8.2 Schema Conversion Tool (SCT)
- **용도**: 스키마 변환 (Oracle → PostgreSQL 등)

---

## 9. 제한사항 및 고려사항

### 9.1 주요 제한
- **최대 스토리지**: 64TB
- **읽기 복제본**: 최대 15개
- **백업 보존**: 최대 35일

### 9.2 성능 고려사항
- **IOPS**: 프로비저닝된 IOPS로 고성능 보장
- **메모리**: 인스턴스 클래스 선택으로 메모리 최적화

---

## 10. 실습 및 핸즈온

### 10.1 기본 RDS 인스턴스 생성
1. RDS 콘솔 → 데이터베이스 생성
2. 엔진 선택 (MySQL 등)
3. 템플릿: 프리 티어 또는 프로덕션
4. 설정: DB 식별자, 마스터 사용자, 비밀번호
5. 인스턴스 구성: 클래스, 스토리지
6. 연결: VPC, 보안 그룹
7. 추가 구성: 백업, 모니터링

### 10.2 읽기 복제본 생성
1. RDS 인스턴스 선택 → 작업 → 읽기 복제본 생성
2. 복제본 식별자 입력
3. 소스 DB 선택

### 10.3 다중 AZ 활성화
1. DB 수정 → 다중 AZ 배포 활성화
2. 적용: 즉시 또는 유지 관리 윈도우 중

---

## 11. SAA 시험 문제

### 문제 1: 다중 AZ 배포
회사의 웹 애플리케이션이 Amazon RDS MySQL 데이터베이스를 사용하고 있습니다. 데이터베이스의 고가용성을 보장하기 위해 다중 AZ 배포를 고려하고 있습니다. 다중 AZ 배포의 주요 이점은 무엇입니까?

A) 읽기 트래픽을 여러 인스턴스로 분산  
B) 자동 장애 조치로 가동 중지 시간 최소화  
C) 데이터베이스 성능 향상  
D) 스토리지 비용 절감  

**정답: B**  
**설명**: 다중 AZ 배포는 기본 리전의 다른 AZ에 대기 인스턴스를 생성하여 자동 장애 조치를 제공합니다. 이는 가동 중지 시간을 최소화하지만, 읽기 트래픽 분산은 읽기 복제본의 역할입니다.

### 문제 2: 읽기 복제본
개발팀이 Amazon RDS PostgreSQL 데이터베이스의 읽기 성능을 향상시키고자 합니다. 어떤 기능을 사용해야 합니까?

A) 다중 AZ 배포  
B) 읽기 복제본  
C) 자동 백업  
D) 스토리지 자동 확장  

**정답: B**  
**설명**: 읽기 복제본은 읽기 트래픽을 분산하여 성능을 향상시킵니다. 다중 AZ는 고가용성을 위한 것이며, 읽기 전용이 아닙니다.

### 문제 3: 백업 및 복원
Amazon RDS 인스턴스의 데이터를 특정 시점으로 복원해야 합니다. 어떤 기능을 사용해야 합니까?

A) 스냅샷  
B) 포인트 인 타임 복원  
C) 읽기 복제본 프로모션  
D) 다중 AZ 장애 조치  

**정답: B**  
**설명**: 포인트 인 타임 복원은 자동 백업을 사용하여 마지막 백업부터 5분 전까지의 특정 시점으로 복원할 수 있습니다.

### 문제 4: 보안
Amazon RDS 데이터베이스의 데이터를 암호화해야 합니다. 어떤 AWS 서비스를 사용해야 합니까?

A) AWS Shield  
B) AWS WAF  
C) AWS KMS  
D) AWS CloudTrail  

**정답: C**  
**설명**: AWS KMS는 RDS의 저장 데이터를 암호화하는 데 사용됩니다. 전송 중 데이터는 SSL/TLS로 암호화할 수 있습니다.

### 문제 5: 비용 최적화
예측 불가능한 워크로드를 가진 애플리케이션의 데이터베이스 비용을 최적화하려면 어떤 RDS 옵션을 선택해야 합니까?

A) 예약 인스턴스  
B) Aurora Serverless  
C) 다중 AZ 배포  
D) 읽기 복제본  

**정답: B**  
**설명**: Aurora Serverless는 사용량 기반으로 자동 확장되어 간헐적 또는 예측 불가능한 워크로드에 적합합니다.

### 문제 6: 모니터링
Amazon RDS 인스턴스의 성능을 모니터링하기 위해 어떤 AWS 서비스를 사용해야 합니까?

A) AWS Config  
B) Amazon CloudWatch  
C) AWS X-Ray  
D) AWS Trusted Advisor  

**정답: B**  
**설명**: Amazon CloudWatch는 RDS 메트릭(CPU, 메모리 등)을 모니터링하고 알람을 설정할 수 있습니다.
